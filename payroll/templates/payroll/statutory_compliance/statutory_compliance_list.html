{% load i18n %}
{% load static %}

<div class="oh-table oh-table--striped">
    <table class="oh-table__table">
        <thead class="oh-table__thead">
            <tr class="oh-table__tr">
                <th class="oh-table__th">{% trans "Employee" %}</th>
                <th class="oh-table__th">{% trans "PF Number" %}</th>
                <th class="oh-table__th">{% trans "PF UAN" %}</th>
                <th class="oh-table__th">{% trans "ESI Number" %}</th>
                <th class="oh-table__th">{% trans "PT Number" %}</th>
                <th class="oh-table__th">{% trans "Actions" %}</th>
            </tr>
        </thead>
        <tbody class="oh-table__tbody">
            {% for statutory_compliance in statutory_compliances %}
                <tr class="oh-table__tr">
                    <td class="oh-table__td">
                        <div class="d-flex align-items-center">
                            <div class="oh-card__avatar oh-card__avatar--sm me-3">
                                <img src="{{ statutory_compliance.employee_id.get_avatar }}" alt="Employee Avatar" class="oh-card__avatar-image">
                            </div>
                            <div>
                                <h6 class="mb-0">{{ statutory_compliance.employee_id.employee_first_name }} {{ statutory_compliance.employee_id.employee_last_name }}</h6>
                                <small class="text-muted">{{ statutory_compliance.employee_id.badge_id }}</small>
                            </div>
                        </div>
                    </td>
                    <td class="oh-table__td">
                        {% if statutory_compliance.pf_number %}
                            {{ statutory_compliance.pf_number }}
                        {% else %}
                            <span class="text-muted">-</span>
                        {% endif %}
                    </td>
                    <td class="oh-table__td">
                        {% if statutory_compliance.pf_uan %}
                            {{ statutory_compliance.pf_uan }}
                        {% else %}
                            <span class="text-muted">-</span>
                        {% endif %}
                    </td>
                    <td class="oh-table__td">
                        {% if statutory_compliance.esi_number %}
                            {{ statutory_compliance.esi_number }}
                        {% else %}
                            <span class="text-muted">-</span>
                        {% endif %}
                    </td>
                    <td class="oh-table__td">
                        {% if statutory_compliance.pt_number %}
                            {{ statutory_compliance.pt_number }}
                        {% else %}
                            <span class="text-muted">-</span>
                        {% endif %}
                    </td>
                    <td class="oh-table__td">
                        <div class="oh-dropdown" x-data="{open: false}">
                            <button class="oh-btn oh-btn--light" @click="open = !open">
                                <ion-icon name="ellipsis-vertical-outline"></ion-icon>
                            </button>
                            <div class="oh-dropdown__menu oh-dropdown__menu--right" x-show="open" @click.outside="open = false" style="display: none">
                                <a href="{% url 'statutory-compliance-view' statutory_compliance.id %}" class="oh-dropdown__item">
                                    <ion-icon name="eye-outline" class="me-2"></ion-icon>
                                    {% trans "View" %}
                                </a>
                                {% if perms.payroll.change_statutorycompliance %}
                                    <a href="{% url 'statutory-compliance-update' statutory_compliance.id %}" class="oh-dropdown__item">
                                        <ion-icon name="create-outline" class="me-2"></ion-icon>
                                        {% trans "Edit" %}
                                    </a>
                                {% endif %}
                                {% if perms.payroll.delete_statutorycompliance %}
                                    <a href="{% url 'statutory-compliance-delete' statutory_compliance.id %}" class="oh-dropdown__item oh-dropdown__item--danger">
                                        <ion-icon name="trash-outline" class="me-2"></ion-icon>
                                        {% trans "Delete" %}
                                    </a>
                                {% endif %}
                            </div>
                        </div>
                    </td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
</div>